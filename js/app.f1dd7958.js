(function(e){function t(t){for(var n,o,i=t[0],u=t[1],l=t[2],p=0,d=[];p<i.length;p++)o=i[p],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(n in u)Object.prototype.hasOwnProperty.call(u,n)&&(e[n]=u[n]);s&&s(t);while(d.length)d.shift()();return c.push.apply(c,l||[]),r()}function r(){for(var e,t=0;t<c.length;t++){for(var r=c[t],n=!0,i=1;i<r.length;i++){var u=r[i];0!==a[u]&&(n=!1)}n&&(c.splice(t--,1),e=o(o.s=r[0]))}return e}var n={},a={app:0},c=[];function o(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,o),r.l=!0,r.exports}o.m=e,o.c=n,o.d=function(e,t,r){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(o.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)o.d(r,n,function(t){return e[t]}.bind(null,n));return r},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/my-gallery/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var s=u;c.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"2fb4":function(e,t,r){},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var n=r("7a23"),a={id:"nav"},c={class:"container"};function o(e,t,r,o,i,u){var l=Object(n["resolveComponent"])("Header"),s=Object(n["resolveComponent"])("router-view");return Object(n["openBlock"])(),Object(n["createElementBlock"])(n["Fragment"],null,[Object(n["createElementVNode"])("div",a,[Object(n["createVNode"])(l)]),Object(n["createElementVNode"])("div",c,[Object(n["createVNode"])(s)])],64)}var i={class:"app-header"},u={class:"container"};function l(e,t,r,a,c,o){var l=this;return Object(n["openBlock"])(),Object(n["createElementBlock"])("header",i,[Object(n["createElementVNode"])("section",u,[Object(n["createElementVNode"])("h1",{onClick:t[0]||(t[0]=function(e){return l.$router.push("/")}),class:"logo"},"Template")])])}var s={},p=r("6b0d"),d=r.n(p);const m=d()(s,[["render",l]]);var f=m,g={components:{Header:f}};const v=d()(g,[["render",o]]);var h=v,b=r("6c02"),y={class:"image-container"},O={key:0,class:"screen"},j=Object(n["createElementVNode"])("h1",null,"Loading Gallery...",-1),M=Object(n["createElementVNode"])("div",{class:"circle-loader"},null,-1),k=[j,M];function w(e,t,r,a,c,o){var i=Object(n["resolveComponent"])("Filter"),u=Object(n["resolveComponent"])("image-list");return Object(n["openBlock"])(),Object(n["createElementBlock"])("section",y,[Object(n["createElementVNode"])("div",null,[Object(n["createVNode"])(i),c.isLoading?(Object(n["openBlock"])(),Object(n["createElementBlock"])("div",O,k)):Object(n["createCommentVNode"])("",!0),Object(n["createVNode"])(u,{onRemove:o.remove,images:o.imagesForDisplay},null,8,["onRemove","images"])])])}var x={class:"image-list"};function B(e,t,r,a,c,o){var i=Object(n["resolveComponent"])("image-preview");return Object(n["openBlock"])(),Object(n["createElementBlock"])("section",x,[(Object(n["openBlock"])(!0),Object(n["createElementBlock"])(n["Fragment"],null,Object(n["renderList"])(r.images,(function(e){return Object(n["openBlock"])(),Object(n["createBlock"])(i,{key:e.id,image:e},null,8,["image"])})),128))])}var $={key:0},I=["src"];function T(e,t,r,a,c,o){return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",{onMouseover:t[1]||(t[1]=function(e){return c.isHovered=!0}),onMouseleave:t[2]||(t[2]=function(e){return c.isHovered=!1})},[Object(n["createElementVNode"])("div",{onClick:t[0]||(t[0]=function(e){return o.openDetails(r.image.id)}),class:"image-preview"},[c.isHovered?(Object(n["openBlock"])(),Object(n["createElementBlock"])("h3",$,Object(n["toDisplayString"])(r.image.title),1)):Object(n["createCommentVNode"])("",!0),Object(n["createElementVNode"])("img",{src:r.image.url},null,8,I)])],32)}var N={props:["image","src"],data:function(){return{isHovered:!1}},created:function(){},methods:{openDetails:function(e){this.$router.push("/image/details/".concat(e))},removeImage:function(){this.$emit("removeImage")}},computed:{}};const E=d()(N,[["render",T]]);var C=E,R={props:{images:null},components:{imagePreview:C},computed:{},created:function(){}};const S=d()(R,[["render",B]]);var V=S,D=(r("4de4"),r("d3b7"),{class:"filter"});function F(e,t,r,a,c,o){var i=Object(n["resolveComponent"])("el-input");return Object(n["openBlock"])(),Object(n["createElementBlock"])("div",D,[Object(n["createVNode"])(i,{onInput:o.filter,placeholder:"Search Images",modelValue:c.filterBy.title,"onUpdate:modelValue":t[0]||(t[0]=function(e){return c.filterBy.title=e})},null,8,["onInput","modelValue"])])}var A=r("5530"),_=(r("ac1f"),r("5319"),r("25f0"),r("4d63"),r("c607"),r("2c3e"),{makeId:H,getRandomInt:J,timeSince:P,debounce:U});function H(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function J(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function P(e){if(e instanceof Date||(e=new Date(e)),isNaN(e.getDate()))return"Invalid date";var t,r=new Date,n=(r.getTime()-e.getTime())/1e3,a=function(e,t,r){var n=["\0","January","February","March","April","May","June","July","August","September","October","November","December"],a=["","Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],c=["","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],o=["","Sun","Mon","Tue","Wed","Thu","Fri","Sat"];function i(e,t){var r=e+"";t=t||2;while(r.length<t)r="0"+r;return r}var u=r?e.getUTCFullYear():e.getFullYear();t=t.replace(/(^|[^\\])yyyy+/g,"$1"+u),t=t.replace(/(^|[^\\])yy/g,"$1"+u.toString().substr(2,2)),t=t.replace(/(^|[^\\])y/g,"$1"+u);var l=(r?e.getUTCMonth():e.getMonth())+1;t=t.replace(/(^|[^\\])MMMM+/g,"$1"+n[0]),t=t.replace(/(^|[^\\])MMM/g,"$1"+a[0]),t=t.replace(/(^|[^\\])MM/g,"$1"+i(l)),t=t.replace(/(^|[^\\])M/g,"$1"+l);var s=r?e.getUTCDate():e.getDate();t=t.replace(/(^|[^\\])dddd+/g,"$1"+c[0]),t=t.replace(/(^|[^\\])ddd/g,"$1"+o[0]),t=t.replace(/(^|[^\\])dd/g,"$1"+i(s)),t=t.replace(/(^|[^\\])d/g,"$1"+s);var p=r?e.getUTCHours():e.getHours();t=t.replace(/(^|[^\\])HH+/g,"$1"+i(p)),t=t.replace(/(^|[^\\])H/g,"$1"+p);var d=p>12?p-12:0==p?12:p;t=t.replace(/(^|[^\\])hh+/g,"$1"+i(d)),t=t.replace(/(^|[^\\])h/g,"$1"+d);var m=r?e.getUTCMinutes():e.getMinutes();t=t.replace(/(^|[^\\])mm+/g,"$1"+i(m)),t=t.replace(/(^|[^\\])m/g,"$1"+m);var f=r?e.getUTCSeconds():e.getSeconds();t=t.replace(/(^|[^\\])ss+/g,"$1"+i(f)),t=t.replace(/(^|[^\\])s/g,"$1"+f);var g=r?e.getUTCMilliseconds():e.getMilliseconds();t=t.replace(/(^|[^\\])fff+/g,"$1"+i(g,3)),g=Math.round(g/10),t=t.replace(/(^|[^\\])ff/g,"$1"+i(g)),g=Math.round(g/10),t=t.replace(/(^|[^\\])f/g,"$1"+g);var v=p<12?"AM":"PM";t=t.replace(/(^|[^\\])TT+/g,"$1"+v),t=t.replace(/(^|[^\\])T/g,"$1"+v.charAt(0));var h=v.toLowerCase();t=t.replace(/(^|[^\\])tt+/g,"$1"+h),t=t.replace(/(^|[^\\])t/g,"$1"+h.charAt(0));var b=-e.getTimezoneOffset(),y=r||!b?"Z":b>0?"+":"-";if(!r){b=Math.abs(b);var O=Math.floor(b/60),j=b%60;y+=i(O)+":"+i(j)}t=t.replace(/(^|[^\\])K/g,"$1"+y);var M=(r?e.getUTCDay():e.getDay())+1;return t=t.replace(new RegExp(c[0],"g"),c[M]),t=t.replace(new RegExp(o[0],"g"),o[M]),t=t.replace(new RegExp(n[0],"g"),n[l]),t=t.replace(new RegExp(a[0],"g"),a[l]),t=t.replace(/\\(.)/g,"$1"),t};return n<0?e:n<60?parseInt(n)+"secs":n<3600?parseInt(n/60)+"mins":n<=86400?parseInt(n/3600)+"hrs":n<=172800?"Yesderday at "+a(e,"h:mmtt"):n>172800?(t=n<=604800?a(e,"dddd")+" at "+a(e,"h:mmtt"):r.getFullYear()>e.getFullYear()?a(e,"MMMM d, yyyy"):r.getMonth()>e.getMonth()?a(e,"MMMM d"):a(e,"MMMM d")+" at "+a(e,"h:mmtt"),t):void 0}function U(e,t){var r;return function(){for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];var o=function(){clearTimeout(r),e.apply(void 0,a)};clearTimeout(r),r=setTimeout(o,t)}}var L={data:function(){return{filterBy:{title:""}}},created:function(){this.filter=_.debounce(this.filter,2e3)},methods:{filter:function(){this.$store.dispatch({type:"filter",filterBy:Object(A["a"])({},this.filterBy)})}},components:{}};const Y=d()(L,[["render",F]]);var q=Y,G={data:function(){return{images:[],isLoading:!0}},mounted:function(){var e=this;setTimeout((function(){return e.isLoading=!1}),4e3)},components:{imageList:V,Filter:q},created:function(){this.$store.dispatch({type:"loadImages"})},computed:{imagesForDisplay:function(){return this.$store.getters.imagesForDisplay}},methods:{remove:function(e){this.$store.dispatch({type:"remove",imageId:e}).then((function(){}))}}};const W=d()(G,[["render",w]]);var z=W,K={key:0,class:"image-details bounce-in-top container"},Z=["src"],Q=Object(n["createTextVNode"])("Back To Gallery");function X(e,t,r,a,c,o){var i=Object(n["resolveComponent"])("el-button");return c.image?(Object(n["openBlock"])(),Object(n["createElementBlock"])("section",K,[Object(n["createElementVNode"])("h1",null,Object(n["toDisplayString"])(c.image.title),1),Object(n["createElementVNode"])("img",{src:c.image.url,alt:""},null,8,Z),Object(n["createVNode"])(i,{onClick:o.backToMain},{default:Object(n["withCtx"])((function(){return[Q]})),_:1},8,["onClick"])])):Object(n["createCommentVNode"])("",!0)}var ee=r("1da1"),te=(r("96cf"),r("99af"),r("caad"),r("2532"),r("a434"),r("159b"),r("e9c4"),r("fd8f"),r("2909")),re=(r("7db0"),r("c740"),{query:ne,get:ae,post:ce,put:ue,remove:le,postMany:ie,postUnshift:oe});function ne(e){var t=JSON.parse(localStorage.getItem(e))||[];return Promise.resolve(t)}function ae(e,t){return ne(e).then((function(e){return e.find((function(e){return e.id===t}))}))}function ce(e,t){return t._id=pe(),ne(e).then((function(r){return r.push(t),se(e,r),t}))}function oe(e,t){return t._id=pe(),ne(e).then((function(r){return r.unshift(t),se(e,r),t}))}function ie(e,t){return ne(e).then((function(r){return r.push.apply(r,Object(te["a"])(t)),se(e,r),r}))}function ue(e,t){return ne(e).then((function(r){var n=r.findIndex((function(e){return e._id===t._id}));return r.splice(n,1,t),se(e,r),t}))}function le(e,t){return ne(e).then((function(r){var n=r.findIndex((function(e){return e._id===t}));r.splice(n,1),se(e,r)}))}function se(e,t){localStorage.setItem(e,JSON.stringify(t))}function pe(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:5,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=0;n<e;n++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}var de=r("bc3a"),me=de.create({withCredentials:!0}),fe="imagesDB",ge={query:he,getById:Oe,deleteImage:Me,save:we,getEmptyImage:Ne};function ve(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t="/api/image";return"".concat(t,"/").concat(e)}function he(e){return be.apply(this,arguments)}function be(){return be=Object(ee["a"])(regeneratorRuntime.mark((function e(t){var r,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.query(fe);case 3:if(r=e.sent,n=[],r&&0!==r.length){e.next=12;break}return e.next=8,me.get("https://jsonplaceholder.typicode.com/photos");case 8:r=e.sent,n=r.data.splice(0,50),e.next=13;break;case 12:n=r.splice(0,50);case 13:return n.forEach((function(e){e.url="https://source.unsplash.com/".concat(_.getRandomInt(150,400),"x").concat(_.getRandomInt(150,400))})),localStorage.setItem(fe,JSON.stringify(n)),a=ye(n,t),e.abrupt("return",a);case 19:e.prev=19,e.t0=e["catch"](0),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[0,19]])}))),be.apply(this,arguments)}function ye(e,t){var r;return r=t?e.filter((function(e){return e.title.includes(t.title.toLowerCase())})):e,r}function Oe(e){return je.apply(this,arguments)}function je(){return je=Object(ee["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,re.get(fe,t);case 3:return r=e.sent,e.abrupt("return",r);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),je.apply(this,arguments)}function Me(e){return ke.apply(this,arguments)}function ke(){return ke=Object(ee["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.delete(ve(t));case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),ke.apply(this,arguments)}function we(e){return xe.apply(this,arguments)}function xe(){return xe=Object(ee["a"])(regeneratorRuntime.mark((function e(t){var r,n;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,t._id){e.next=8;break}return e.next=4,Ie(t);case 4:return r=e.sent,e.abrupt("return",r);case 8:return e.next=10,Be(t);case 10:return n=e.sent,e.abrupt("return",n);case 12:e.next=17;break;case 14:e.prev=14,e.t0=e["catch"](0),console.log(e.t0);case 17:case"end":return e.stop()}}),e,null,[[0,14]])}))),xe.apply(this,arguments)}function Be(e){return $e.apply(this,arguments)}function $e(){return $e=Object(ee["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.put(ve(t._id),t);case 3:return r=e.sent,e.abrupt("return",r.data);case 7:e.prev=7,e.t0=e["catch"](0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),$e.apply(this,arguments)}function Ie(e){return Te.apply(this,arguments)}function Te(){return Te=Object(ee["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,me.post(ve(),t);case 3:return r=e.sent,console.log(r.data),e.abrupt("return",r.data);case 8:e.prev=8,e.t0=e["catch"](0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])}))),Te.apply(this,arguments)}function Ne(){return{name:"",price:null,labels:[],createdAt:null,inStock:null,url:"imgs/woodi.png"}}var Ee={data:function(){return{image:null}},created:function(){this.loadImage()},computed:{},methods:{loadImage:function(){var e=this;return Object(ee["a"])(regeneratorRuntime.mark((function t(){var r,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,r=e.$route.params.imageId,t.next=4,ge.getById(+r);case 4:n=t.sent,e.image=n,t.next=11;break;case 8:t.prev=8,t.t0=t["catch"](0),console.log(t.t0);case 11:case"end":return t.stop()}}),t,null,[[0,8]])})))()},backToMain:function(){this.$router.push("/")}},components:{}};const Ce=d()(Ee,[["render",X]]);var Re=Ce,Se=[{path:"/",name:"app",component:z},{path:"/image/details/:imageId",component:Re}],Ve=Object(b["a"])({history:Object(b["b"])("/my-gallery/"),routes:Se}),De=Ve,Fe=r("5502"),Ae=Object(Fe["a"])({state:{images:[],filterBy:""},getters:{imagesForDisplay:function(e){return e.images}},mutations:{setImages:function(e,t){var r=t.images;e.images=r},filter:function(e,t){var r=t.filterBy;e.filterBy=r}},actions:{filter:function(e,t){var r=e.commit,n=e.dispatch,a=t.filterBy;r({type:"filter",filterBy:a}),n({type:"loadImages"})},loadImages:function(e){return Object(ee["a"])(regeneratorRuntime.mark((function t(){var r,n,a,c;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,n=e.state,t.prev=1,a=n.filterBy?n.filterBy:"",t.next=5,ge.query(a);case 5:c=t.sent,r({type:"setImages",images:c}),t.next=12;break;case 9:t.prev=9,t.t0=t["catch"](1),console.log(t.t0);case 12:case"end":return t.stop()}}),t,null,[[1,9]])})))()}},modules:{}}),_e=(r("2fb4"),r("c3a1"));r("7437");Object(n["createApp"])(h).use(Ae).use(De).use(_e["a"]).mount("#app")}});
//# sourceMappingURL=app.f1dd7958.js.map